<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix Page</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.8.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.8.3/firebase-firestore.js"></script>

</head>
<body>
    <div id="nav">
        <img id="logo" src="assets/ball_logo.png" alt="logo">
        <button id="title"><strong>NET FIX</strong></button>

        <button id="report" class="nav_button">REPORT</button>
        <button id="learn" class="nav_button">LEARN</button>
        <button id="fix" class="nav_button">FIX</button>
    </div>

    <div id="background">
        <img src="assets/background.jpg" alt="background image">
        <h1>Fix Nets</h1>
    </div>
    
    <div id="about">
        <strong>Fix</strong> page is dedicated to helping local communities maintain soccer nets by providing free paracord and materials needed to repair them. Our goal is to make sure that soccer fields are safe, functional, and ready for play. With easy access to repair materials, we aim to support players and coaches by ensuring that nets are well-maintained and usable throughout the season. Together, we can ensure that the game of soccer remains accessible for everyone.
    </div>

    <div id="map" style="height: 400px; width: 100%;"></div> <!-- Map Container -->

    <div id="fix-instructions">
        <h2>Request Materials</h2>
        <p>Fill out this form to request a free repair kit:</p>
    
        <form id="request-form">
            <label for="field-name">Intended Field Name:</label>
            <input type="text" id="field-name" name="field-name" required><br><br>

            <label for="email">Email:</label>
            <input type="example@net-fix.org" id="email" name="email" required><br><br>
    
            <label for="address">Your Address:</label>
            <input type="text" id="address" name="address" required><br><br>
    
            <input type="submit" value="Submit Request">
        </form>
    </div>
    
    <div id="repair-confirmation">
        <h2>Report a fixed net!</h2>

        <form id="repair-form">
            <label for="fixed-field">Field fixed:</label>
            <input type="text" id="fixed-field" name="fixed-field" required><br><br>
    
            <input type="submit" value="Report Fix!">
        </form>
    </div>
    
    <script>
        document.getElementById('request-form').addEventListener('submit', function(event) {
            event.preventDefault();
            alert("Your request has been submitted! Please look for an email shortly regarding shipment.");
            this.reset();
        });
    
        document.getElementById('repair-form').addEventListener('submit', function(event) {
            event.preventDefault();
            alert("Thank you so much for helping our community and supporting the game! We will update our field map accordingly.");
            this.reset();
        });
    </script>
    
    <script>
        // Initialize the map
        var map = L.map('map').setView([47.6062, -122.3321], 12); // Set initial map view (Seattle, change as needed)

        // Set up OpenStreetMap layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Example of adding markers to the map
        // You can replace these with real data from a database or API
        var netReports = [
            { lat: 47.6097, lon: -122.3331, description: "Broken net at Field A" },
            { lat: 47.6098, lon: -122.3342, description: "Damaged net at Field B" },
            { lat: 47.6100, lon: -122.3350, description: "Net needs repair at Field C" }
        ];

        // Loop through the reports and add markers to the map
        netReports.forEach(function(report) {
            L.marker([report.lat, report.lon])
                .addTo(map)
                .bindPopup('<strong>' + report.description + '</strong>');
        });
    </script>

    <script src="script.js"></script>
</body>
</html>
